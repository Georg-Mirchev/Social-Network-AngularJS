<div infinite-scroll='newsFeedPosts()' infinite-scroll-disabled='isScrollPaused'
     infinite-scroll-distance='0.01'>
    <div class="newsFeedPost" ng-repeat='post in posts'>
        <img ng-src="{{post.author.profileImageData || 'resources/defaultProfilePicture.jpg'}}"/>
        <span>{{post.author.name}}</span>
        <img ng-src="{{post.wallOwner.profileImageData || 'resources/defaultProfilePicture.jpg'}}"/>
        <span>{{post.wallOwner.name}}</span>

        <div>{{post.postContent}}</div>
        <div>{{dateFromNow(post.date)}}</div>
        <a ng-if="!post.liked" href="" ng-click="likePost(post)">Like</a>
        <a ng-if="post.liked" href="" ng-click="unlikePost(post)">Unlike</a>

        <div>Likes: {{post.likesCount}}</div>
        <div id="comments" ng-controller="CommentsController">
            <a href="" ng-if="post.totalCommentsCount > 3" ng-hide="post.comments.length > 3" ng-click="showAllComments(post)">
                Show All {{post.totalCommentsCount}} Comments</a>
            <div class="comment" ng-repeat="comment in post.comments | orderBy: 'id'">
                <div>{{comment.author.name}}: {{comment.commentContent}}</div>
                <div>{{dateFromNow(comment.date)}}</div>
                <a ng-if="!comment.liked" href="" ng-click="likeComment(post, comment)">Like</a>
                <a ng-if="comment.liked" href="" ng-click="unlikeComment(post, comment)">Unlike</a>
                <div>Likes: {{comment.likesCount}}</div>
            </div>
        </div>
        <div class="clear"></div>
    </div>
    <div>{{postsMessage}}</div>
</div>